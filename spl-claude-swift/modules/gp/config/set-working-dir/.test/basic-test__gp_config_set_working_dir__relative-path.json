{
  "key": "basic-test__gp_config_set_working_dir__relative-path",
  "name": "relative path then local",
  "description": "Set working directory to relative path then clean up with local mode",
  "command": "-d gp/config/set-working-dir --path=\"../test-relative-working-dir\" @@ gp/config/set-working-dir --path=\"local\"",
  "selectors": {
    "status": "$.headers.spl.execute.status",
    "appDataRoot": "$.headers.spl.execute.appDataRoot",
    "appRoot": "$.headers.spl.execute.appRoot",
    "allHistoryMessages": "$.headers.spl.execute.history[?(@[0]=='gp/config/set-working-dir' && @[2]!='')][2]",
    "errorMessage": "$.headers.spl.error.catch.message"
  },
  "expect": [
    {
      "key": "status",
      "operation": "equals",
      "expectation": "green"
    },
    {
      "key": "appRoot",
      "operation": "equals",
      "expectation": "apps/gp"
    },
    {
      "key": "appDataRoot",
      "operation": "contains",
      "expectation": "apps/gp/data"
    },
    {
      "key": "allHistoryMessages",
      "operation": "contains",
      "expectation": "Created data symlink to ../test-relative-working-dir"
    },
    {
      "key": "allHistoryMessages",
      "operation": "contains",
      "expectation": "Configured local data directory"
    }
  ]
}